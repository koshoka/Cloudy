# Claudia Interactive - Claude Code GUI

## プロジェクト概要

Claude Code CLIの完全なインタラクティブGUIラッパーアプリケーション。  
Claudiaの制限事項を解決し、ターミナルエミュレーターを内蔵してClaude Code CLIのすべての機能をサポートします。

## 開発指針

### 言語・表現ルール
- 日本語で開発コメント・ドキュメント作成
- 絵文字は使用禁止

### Kiroスタイル仕様駆動開発の採用
1. **段階的承認フロー**: 要件 → 設計 → タスク → 実装
2. **各フェーズで人間レビュー**が必要
3. `/kiro:spec-init` でプロジェクト開始
4. `/kiro:spec-requirements` で要件定義
5. `/kiro:spec-design` で設計書作成（インタラクティブ承認）
6. `/kiro:spec-tasks` でタスク分解（インタラクティブ承認）

### 実装基本原則
- **明確な実装指示がない限り、実装を開始しない**
- フック機能は補助的な安全装置と認識
- 実装前の必須確認事項：
  - ユーザーの真の意図の理解
  - 実装承認の取得
  - 影響範囲の把握

## 技術スタック

### フロントエンド
- **フレームワーク**: Electron
- **UI**: React/Vue.js（Claudiaと同様のアーキテクチャ）
- **ターミナル**: xterm.js + node-pty（完全なターミナルエミュレーション）
- **状態管理**: Redux Toolkit/Zustand

### バックエンド
- **実行環境**: Node.js
- **Claude Code CLI統合**: child_process/spawn
- **データ永続化**: SQLite（セッション管理用）

### 主要機能

#### 1. フルターミナルエミュレーション
- xterm.jsによる完全なターミナル体験
- Claude Code CLIとのリアルタイム通信
- 全ビルトインコマンドサポート（/model, /permissions, /status等）

#### 2. MCP完全統合
- 既存のMCP設定自動読み込み
- MCP serverのGUI管理
- 設定変更のリアルタイム反映

#### 3. セッション管理（Claudiaからの継承機能）
- プロジェクトベースセッション管理
- チェックポイント・タイムライン機能
- 使用状況分析ダッシュボード

#### 4. 独自機能
- リアルタイムコマンド履歴
- Claude Code出力のビジュアル整形
- 複数セッション並行実行

## セキュリティ・安全性

### プロセス分離
- Claude Code CLIは独立プロセスで実行
- フロントエンドとバックエンドの適切な分離
- 機密情報（APIキー等）の安全な取り扱い

### 権限管理
- ファイルシステムアクセス制御
- ネットワークアクセス管理
- ツール権限のグラニュラーな制御

## 開発フロー

### フェーズ1: 仕様策定
- [x] プロジェクト初期化
- [ ] 詳細要件定義（Kiro）
- [ ] 技術設計書作成
- [ ] 実装タスク分解

### フェーズ2: MVP開発
- [ ] 基本ターミナル統合
- [ ] Claude Code CLI制御
- [ ] 基本GUI実装

### フェーズ3: 高度機能
- [ ] MCP完全統合
- [ ] セッション管理
- [ ] 使用状況分析

## アーキテクチャ方針

### Claudiaとの差別化
- **Claudia**: 管理・分析中心のGUI
- **Claudia Interactive**: リアルタイム操作・完全統合GUI

### Electronアプリ構造
```
src/
├── main/              # メインプロセス
│   ├── claude-cli.js  # Claude Code CLI制御
│   └── session.js     # セッション管理
├── renderer/          # レンダラープロセス
│   ├── components/    # Reactコンポーネント
│   ├── terminal/      # ターミナル統合
│   └── store/         # 状態管理
└── shared/           # 共通ユーティリティ
```

## 品質保証

### テスト戦略
- **単体テスト**: Jest
- **統合テスト**: Playwright
- **E2E テスト**: 実際のClaude Code CLIとの統合テスト

### パフォーマンス
- ターミナル出力の効率的な描画
- メモリ使用量の最適化
- 大量出力時のスクロール性能

---

**重要**: このプロジェクトはKiroスタイル仕様駆動開発を採用しています。  
実装開始前に必ず段階的承認フローを完了してください。